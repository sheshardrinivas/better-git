import * as fs from "fs";

let key = "";
let key_value = 0;

const encoding_codes = {
  a: 1,
  b: 2,
  c: 3,
  d: 4,
  e: 5,
  f: 6,
  g: 7,
  h: 8,
  i: 9,
  j: 10,
  k: 11,
  l: 12,
  m: 13,
  n: 14,
  o: 15,
  p: 16,
  q: 17,
  r: 18,
  s: 19,
  t: 20,
  u: 21,
  v: 22,
  w: 23,
  x: 24,
  y: 25,
  z: 26,
  " ": 27,
  "˚": 28,
  "?": 29,
  "!": 30,
  "'": 31,
  "@": 32,
  "#": 33,
  $: 34,
  "%": 35,
  "^": 36,
  "&": 37,
  "*": 38,
  "(": 39,
  ")": 40,
  ".": 41,
  '"': 42,
  1: 43,
  2: 44,
  3: 45,
  4: 46,
  5: 47,
  6: 48,
  7: 49,
  8: 50,
  9: 51,
  0: 52,
  "{": 53,
  "}": 54,
  "`": 55,
  "~": 56,
  ";": 57,
  "\n": 58,
  "=": 59,
  "/": 60,
  "|": 61,
  "\\": 62,
  "[": 63,
  "]": 64,
  _: 65,
  "+": 66,
  "-": 67,
  "<": 68,
  ">": 69,
  ",": 70,
  ":": 71,
  A: 72,
  B: 73,
  C: 74,
  D: 75,
  E: 76,
  F: 77,
  G: 78,
  H: 79,
  I: 80,
  J: 81,
  K: 82,
  L: 83,
  M: 84,
  N: 85,
  O: 86,
  P: 87,
  Q: 88,
  R: 89,
  S: 90,
  T: 91,
  U: 92,
  V: 93,
  W: 94,
  X: 95,
  Y: 96,
  Z: 97,
};
const decoding_codes = {
  1: "a",
  2: "b",
  3: "c",
  4: "d",
  5: "e",
  6: "f",
  7: "g",
  8: "h",
  9: "i",
  10: "j",
  11: "k",
  12: "l",
  13: "m",
  14: "n",
  15: "o",
  16: "p",
  17: "q",
  18: "r",
  19: "s",
  20: "t",
  21: "u",
  22: "v",
  23: "w",
  24: "x",
  25: "y",
  26: "z",
  27: " ",
  28: "̊̊˚",
  29: "?",
  30: "!",
  31: "'",
  32: "@",
  33: "#",
  34: "$",
  35: "%",
  36: "^",
  37: "&",
  38: "*",
  39: "(",
  40: ")",
  41: ".",
  42: '"',
  43: "1",
  44: "2",
  45: "3",
  46: "4",
  47: "5",
  48: "6",
  49: "7",
  50: "8",
  51: "9",
  52: "0",
  53: "{",
  54: "}",
  55: "`",
  56: "~",
  57: ";",
  58: "\n",
  59: "=",
  60: "/",
  61: "|",
  62: "\\",
  63: "[",
  64: "]",
  65: "_",
  66: "+",
  67: "-",
  68: "<",
  69: ">",
  70: ",",
  71: ":",
  72: "A",
  73: "B",
  74: "C",
  75: "D",
  76: "E",
  77: "F",
  78: "G",
  79: "H",
  80: "I",
  81: "J",
  82: "K",
  83: "L",
  84: "M",
  85: "N",
  86: "O",
  87: "P",
  88: "Q",
  89: "R",
  90: "S",
  91: "T",
  92: "U",
  93: "V",
  94: "W",
  95: "X",
  96: "Y",
  97: "Z",
};

let encoded_data = [];
let decoded_data = "";
export function encoding(data, key_path) {
  key = fs.readFileSync(`${key_path}.env`, "utf8");
  key_value = parseInt(key);

  encoded_data = [];
  for (let words = 0; words < data.length; words++) {
    for (let letters = 0; letters < data[words].length; letters++) {
      let letter = data[words][letters];
      encoded_data.push(encoding_codes[letter] * key_value);
    }
  }
  console.log(encoded_data);
  return encoded_data;
}
export function decoding(data, key_path) {
  key = fs.readFileSync(`${key_path}.env`, "utf8");
  key_value = parseInt(key);
  decoded_data = "";
  for (let w = 0; w < data.length; w++) {
    decoded_data = decoded_data + decoding_codes[data[w] / key_value];
  }
  console.log(decoded_data);
  return decoded_data;
}
